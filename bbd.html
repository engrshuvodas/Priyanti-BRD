<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Special Surprise | Happy Birthday Priyanti</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&display=swap"
    rel="stylesheet">

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <link rel="stylesheet" href="style2.css">
</head>

<body>
  <div class="celebration-container">
    <!-- Floating Balloons Background -->
    <div class="balloons-bg" id="balloons-container"></div>

    <main class="content-wrapper">
      <div class="glass-card">
        <div class="photo-section">
          <div class="image-reveal">
            <img src="./BRD-Girl/prionty1.jpeg" alt="Birthday Celebration" class="main-image">
            <div class="image-shimmer"></div>
          </div>
        </div>

        <div class="message-section">
          <h1 class="celebrate-title">Wishing You a Birthday as Bright as You, <br><span>Priyanti</span></h1>
          <div class="message-content">
            <p class="reveal-p">Having you as a friend makes me feel like the luckiest person alive.</p>
            <p class="reveal-p">Your smile, your kindness, your friendship ‚Äî they make the world better.</p>
            <p class="reveal-p">On your special day, I wish all your dreams come true. üíñ</p>
          </div>

          <div class="action-section">
            <button id="add-wish" class="add-btn">
              <span class="icon">‚ú®</span> Add a Special Wish
            </button>
          </div>

          <div class="footer-info">
            <div class="credit">Made with <span class="heart-pulse">‚ù§</span> by <span class="author">Engr Shuvo
                Das</span></div>
            <a href="index.html" class="back-home">Back to start</a>
          </div>
        </div>
      </div>
    </main>

    <div class="music-controls">
      <audio id="celebration-music" loop>
        <source src="./bsong.mpeg" type="audio/mpeg">
      </audio>
      <button id="music-toggle" class="fab-music">
        <span class="icon">üéµ</span>
      </button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Entrance Animations
      const tl = gsap.timeline();

      tl.from('.glass-card', {
        y: 100,
        opacity: 0,
        duration: 1.2,
        ease: 'power4.out'
      })
        .from('.main-image', {
          scale: 1.2,
          opacity: 0,
          duration: 1,
          ease: 'power2.out'
        }, "-=0.5")
        .from('.celebrate-title', {
          x: 50,
          opacity: 0,
          duration: 0.8
        }, "-=0.3")
        .from('.reveal-p', {
          y: 20,
          opacity: 0,
          stagger: 0.3,
          duration: 0.8
        }, "-=0.2");

      // Continuous Confetti
      const duration = 15 * 1000;
      const animationEnd = Date.now() + duration;
      const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

      function randomInRange(min, max) {
        return Math.random() * (max - min) + min;
      }

      const interval = setInterval(function () {
        const timeLeft = animationEnd - Date.now();

        if (timeLeft <= 0) {
          return clearInterval(interval);
        }

        const particleCount = 50 * (timeLeft / duration);
        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
      }, 250);

      // Balloon Generation
      const balloonContainer = document.getElementById('balloons-container');
      const colors = ['#ff4d6d', '#ff758f', '#ffb3c1', '#ff85a1', '#fbc4ab'];

      for (let i = 0; i < 15; i++) {
        const balloon = document.createElement('div');
        balloon.className = 'balloon';
        balloon.style.left = `${Math.random() * 100}%`;
        balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        balloon.style.width = `${Math.random() * 30 + 30}px`;
        balloon.style.height = `${balloon.offsetWidth * 1.2}px`;
        balloonContainer.appendChild(balloon);

        gsap.to(balloon, {
          y: -window.innerHeight - 200,
          x: `+=${Math.random() * 100 - 50}`,
          rotation: Math.random() * 45,
          duration: Math.random() * 10 + 10,
          delay: Math.random() * 10,
          repeat: -1,
          ease: 'none'
        });
      }

      // Add Wish Button Interaction
      const addWishBtn = document.getElementById('add-wish');
      addWishBtn.addEventListener('click', () => {
        // Extra big confetti burst
        const count = 200;
        const defaults = {
          origin: { y: 0.7 },
          zIndex: 1000
        };

        function fire(particleRatio, opts) {
          confetti(Object.assign({}, defaults, opts, {
            particleCount: Math.floor(count * particleRatio)
          }));
        }

        fire(0.25, { spread: 26, startVelocity: 55 });
        fire(0.2, { spread: 60 });
        fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
        fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
        fire(0.1, { spread: 120, startVelocity: 45 });

        // Show a sweet message
        const originalText = addWishBtn.innerHTML;
        addWishBtn.innerHTML = "‚ú® Wish Sent to the Universe!";
        addWishBtn.style.pointerEvents = "none";

        setTimeout(() => {
          addWishBtn.innerHTML = originalText;
          addWishBtn.style.pointerEvents = "auto";
        }, 3000);
      });

      // Music Toggle
      const musicBtn = document.getElementById('music-toggle');
      const audio = document.getElementById('celebration-music');
      let isPlaying = false;

      musicBtn.addEventListener('click', () => {
        if (!isPlaying) {
          audio.play();
          musicBtn.classList.add('playing');
        } else {
          audio.pause();
          musicBtn.classList.remove('playing');
        }
        isPlaying = !isPlaying;
      });
    });
  </script>
</body>

</html>