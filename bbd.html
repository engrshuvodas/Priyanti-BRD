<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Special Surprise | Happy Birthday Priyanti</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&display=swap"
    rel="stylesheet">

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <link rel="stylesheet" href="style2.css">
  <link rel="stylesheet" href="music.css">
</head>

<body>
  <div class="celebration-container">
    <!-- Floating Balloons Background -->
    <div class="balloons-bg" id="balloons-container"></div>

    <main class="content-wrapper">
      <div class="glass-card">
        <div class="photo-section">
          <div style="position: relative; width: 100%; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="position: relative; width: 100%; min-height: 400px; background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;">
              <img id="current-photo" src="./BRD-Girl/prionty1.jpeg" alt="Priyanti" style="max-width: 100%; max-height: 100%; width: auto; height: auto; object-fit: contain; display: block;">
              <!-- Hidden controls for functionality -->
              <div style="position: absolute; top: 50%; left: 20px; transform: translateY(-50%); display: none;">
                <button onclick="changePhoto(-1)" style="width: 40px; height: 40px; border-radius: 50%; background: white; border: none; font-size: 20px; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">â€¹</button>
              </div>
              <div style="position: absolute; top: 50%; right: 20px; transform: translateY(-50%); display: none;">
                <button onclick="changePhoto(1)" style="width: 40px; height: 40px; border-radius: 50%; background: white; border: none; font-size: 20px; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">â€º</button>
              </div>
              <div style="position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; display: none;">
                <span onclick="showPhoto(0)" id="dot-0" style="width: 12px; height: 12px; border-radius: 50%; background: white; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></span>
                <span onclick="showPhoto(1)" id="dot-1" style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></span>
                <span onclick="showPhoto(2)" id="dot-2" style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="message-section">
          <h1 class="celebrate-title">Wishing You a Birthday as Bright as You, <br><span>PriyantiğŸ‚</span></h1>
          <div class="message-content">
            <p class="reveal-p">Having you as a friend makes me feel like the luckiest person alive.ğŸ˜‡ğŸ’«</p>
            <p class="reveal-p">Your SmileğŸ˜„, Your KindnessğŸ’•, Your Honestyâœ¨ with Your Playful Little SideğŸ˜œ â€” along with your friendshipğŸ¤— â€” make the world a better placeğŸŒ.</p>
            <p class="reveal-p">On your special day, I wish all your dreams come true. ğŸ’–</p>
          </div>

          <div class="action-section">
            <button id="add-wish" class="add-btn">
              <span class="icon">âœ¨</span> Add a Special Wish
            </button>
          </div>

          <div class="footer-info">
            <div class="credit">Made with <span class="heart-pulse">â¤</span> by <span class="author">Engr. Das</span></div>
            <a href="index.html" class="back-home">Back to start</a>
          </div>
        </div>
      </div>
    </main>

    <div class="music-controls">
      <audio id="celebration-music" loop autoplay>
        <source src="./bsong.mpeg" type="audio/mpeg">
      </audio>
      <button id="music-toggle" class="fab-music">
        <span class="icon">ğŸ”Š</span>
      </button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Simple Photo Gallery Functionality
      const photos = [
        './BRD-Girl/prionty1.jpeg',
        './BRD-Girl/prionty4.jpeg',
        './BRD-Girl/prionty2.jpeg'
      ];
      let currentPhotoIndex = 0;

      function showPhoto(index) {
        currentPhotoIndex = index;
        document.getElementById('current-photo').src = photos[index];
        
        // Update dots
        for (let i = 0; i < 3; i++) {
          const dot = document.getElementById(`dot-${i}`);
          if (i === index) {
            dot.style.background = 'white';
          } else {
            dot.style.background = 'rgba(255,255,255,0.5)';
          }
        }
      }

      function changePhoto(direction) {
        const newIndex = (currentPhotoIndex + direction + 3) % 3;
        showPhoto(newIndex);
      }

      // Make functions global for onclick handlers
      window.showPhoto = showPhoto;
      window.changePhoto = changePhoto;

      // Auto-slide every 3 seconds
      setInterval(() => {
        changePhoto(1);
      }, 3000);

      // Entrance Animations
      const tl = gsap.timeline();

      tl.from('.glass-card', {
        y: 100,
        opacity: 0,
        duration: 1.2,
        ease: 'power4.out'
      })
        .from('.celebrate-title', {
          x: 50,
          opacity: 0,
          duration: 0.8
        }, "-=0.3")
        .from('.reveal-p', {
          y: 20,
          opacity: 0,
          stagger: 0.3,
          duration: 0.8
        }, "-=0.2");

      // Continuous Confetti
      const duration = 15 * 1000;
      const animationEnd = Date.now() + duration;
      const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

      function randomInRange(min, max) {
        return Math.random() * (max - min) + min;
      }

      const interval = setInterval(function () {
        const timeLeft = animationEnd - Date.now();

        if (timeLeft <= 0) {
          return clearInterval(interval);
        }

        const particleCount = 50 * (timeLeft / duration);
        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
      }, 250);

      // Balloon Generation
      const balloonContainer = document.getElementById('balloons-container');
      const colors = ['#ff4d6d', '#ff758f', '#ffb3c1', '#ff85a1', '#fbc4ab'];

      for (let i = 0; i < 15; i++) {
        const balloon = document.createElement('div');
        balloon.className = 'balloon';
        balloon.style.left = `${Math.random() * 100}%`;
        balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        balloon.style.width = `${Math.random() * 30 + 30}px`;
        balloon.style.height = `${balloon.offsetWidth * 1.2}px`;
        balloonContainer.appendChild(balloon);

        gsap.to(balloon, {
          y: -window.innerHeight - 200,
          x: `+=${Math.random() * 100 - 50}`,
          rotation: Math.random() * 45,
          duration: Math.random() * 10 + 10,
          delay: Math.random() * 10,
          repeat: -1,
          ease: 'none'
        });
      }

      // Add Wish Button Interaction
      const addWishBtn = document.getElementById('add-wish');
      addWishBtn.addEventListener('click', () => {
        // Extra big confetti burst
        const count = 200;
        const defaults = {
          origin: { y: 0.7 },
          zIndex: 1000
        };

        function fire(particleRatio, opts) {
          confetti(Object.assign({}, defaults, opts, {
            particleCount: Math.floor(count * particleRatio)
          }));
        }

        fire(0.25, { spread: 26, startVelocity: 55 });
        fire(0.2, { spread: 60 });
        fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
        fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
        fire(0.1, { spread: 120, startVelocity: 45 });

        // Show a sweet message
        const originalText = addWishBtn.innerHTML;
        addWishBtn.innerHTML = "âœ¨ Wish Sent to the Universe!";
        addWishBtn.style.pointerEvents = "none";

        setTimeout(() => {
          addWishBtn.innerHTML = originalText;
          addWishBtn.style.pointerEvents = "auto";
        }, 3000);
      });
    });
  </script>
  <script src="music.js"></script>
</body>

</html>